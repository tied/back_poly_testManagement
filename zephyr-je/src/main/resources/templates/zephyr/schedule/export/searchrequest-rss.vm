<!--  RSS generated by ZFJ at $currentDate -->
#disable_html_escaping()
###macro (esc $text)$xmlutils.escape($text)#end
<rss version="2.0">
    <channel>
        <title>ZQL export request</title>
		## Ensure we have no spaces around the link tag and its value. JRA-16175
        <link>#xmlEscape($zqlQuery)</link>
        <description>RSS representation of a ZQL export request</description>
        #if ($rssLocale)
        	<language>$rssLocale</language>
        #end
		#if ($schedules && $schedules.size() > 0)
			#set($canViewIssue = $schedule.canViewIssue)
			#foreach($schedule in $schedules)
	        	<item>
				    <title>RE: [#xmlEscape($schedule.issueKey)] #xmlEscape($schedule.issueSummary)</title>
				    <link>#xmlEscape($baseUrl)/secure/enav/#/$schedule.id</link>
				    <description>
						    &lt;style type=&quot;text/css&quot;&gt;
							.tableBorder
							{
							    background-color: #fff;
							    width: 100%;
							    border-collapse: collapse;
							}
							
							.tableBorder td
							{
							    vertical-align: top;
							    padding: 2px;
							    border: 1px solid #ccc;
							}
							&lt;/style&gt;

						&lt;table class="tableBorder" cellpadding="0" cellspacing="0" border="0" width="100%">
					       &lt;tr&gt;
					        &lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;$i18n.getText('enav.execution.element.name'):&lt;/td&gt;
					       	&lt;/tr&gt;
	
					       &lt;tr&gt;
					        &lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;$i18n.getText('je.gadget.common.cycle.label'):&lt;/td&gt;
					        &lt;td&gt;$schedule.cycleName&lt;/td&gt;
					        &lt;/tr&gt;
	
					       &lt;tr&gt;
					        &lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;$i18n.getText('common.concepts.project'):&lt;/td&gt;
					        &lt;td&gt;$schedule.project&lt;/td&gt;
					        &lt;/tr&gt;
					        
					       &lt;tr&gt;
					        &lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;$i18n.getText('cycle.reorder.executions.issue.label'):&lt;/td&gt;
					        &lt;td&gt;&lt;a href="#xmlEscape($baseUrl)/browse/$schedule.issueKey" &gt; $schedule.issueKey &lt;/a&gt;&lt;/td&gt;
					        &lt;/tr&gt;
	
					       &lt;tr&gt;
					        &lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;$i18n.getText('execute.test.testsummary.label'):&lt;/td&gt;
					        &lt;td&gt;&lt;a href="#xmlEscape($baseUrl)/browse/$schedule.issueKey"&gt;$schedule.issueSummary&lt;/a&gt;&lt;/td&gt;
					        &lt;/tr&gt;

							&lt;tr&gt;
							&lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;$i18n.getText('issue.field.labels'):&lt;/td&gt;
								&lt;td&gt;
								#foreach($label in $schedule.labels)
									&lt;a href="#xmlEscape($baseUrl)/secure/IssueNavigator.jspa?reset=true&amp;jqlQuery=labels+%3D+$label"&gt;$label&lt;/a&gt;
									#if($velocityCount != $schedule.labels.size())
                               	 	,
									#end
								#end
								&lt;/td&gt;
							&lt;/tr&gt;
					       &lt;tr&gt;
					        &lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;$i18n.getText('issue.field.priority'):&lt;/td&gt;
					        &lt;td&gt;$schedule.priority&lt;/td&gt;
					        &lt;/tr&gt;
							#if($canViewIssue)
                                &lt;tr&gt;
                                &lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;$i18n.getText('execute.test.executionstatus.label'):&lt;/td&gt;
                                &lt;td&gt;$schedule.status.name&lt;/td&gt;
                                &lt;/tr&gt;
							#else
                                &lt;tr&gt;
                                &lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;$i18n.getText('execute.test.executionstatus.label'):&lt;/td&gt;
                                &lt;td&gt;XXXXX&lt;/td&gt;
                                &lt;/tr&gt;
							#end
						   &lt;tr&gt;
							&lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;$i18n.getText('execute.test.comment.label'):&lt;/td&gt;
							&lt;td&gt;$schedule.htmlComment&lt;/td&gt;
							&lt;/tr&gt;

					       &lt;tr&gt;
					        &lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;$i18n.getText('enav.assigned.to.searcher.name'):&lt;/td&gt;
					        &lt;td&gt;$schedule.assignee&lt;/td&gt;
					        &lt;/tr&gt;	
					        
					       &lt;tr&gt;
					        &lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;$i18n.getText('execute.test.executedby.label'):&lt;/td&gt;
					        &lt;td&gt;$schedule.executedBy&lt;/td&gt;
					        &lt;/tr&gt;				        
	
					       &lt;tr&gt;
					        &lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;$i18n.getText('execute.test.executedon.label'):&lt;/td&gt;
					        &lt;td&gt;$schedule.executedOn&lt;/td&gt;
					        &lt;/tr&gt;	
					        				
							#if ($schedule.versionName)
						   		&lt;tr&gt;
						        &lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;$i18n.getText('enav.version.searcher.name'):&lt;/td&gt;
						        &lt;td&gt;$schedule.versionName&lt;/td&gt;
						        &lt;/tr&gt;
							#end	
							
					        #set($componentAsString = '')
							#foreach($component in $schedule.components)
								#set($componentAsString = $componentAsString + $textutils.htmlEncode($!component.name))
								#if($velocityCount != $schedule.components.size())
									#set($componentAsString = $componentAsString + ', ')
								#end
							#end	
	
					   		&lt;tr&gt;
					        &lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;$i18n.getText('common.concepts.component'):&lt;/td&gt;
							&lt;td&gt;$componentAsString&lt;/td&gt;
					        &lt;/tr&gt;
							#set($defectsAsString = '')
		                    #foreach( $executionDefect in $schedule.executionDefects )
								#set($defectsAsString = $defectsAsString + $executionDefect.defectKey)
								#if($velocityCount != $schedule.executionDefects.size())
									#set($defectsAsString = $defectsAsString + ', ')
								#end
							#end
							#if($schedule.stepDefects && $schedule.stepDefects.size() > 0)
								#set($defectsAsString = $defectsAsString + " | ")
								#foreach( $stepDefect in $schedule.stepDefects )
									#set($defectsAsString = $defectsAsString + $stepDefect)
									#if($velocityCount != $schedule.stepDefects.size())
										#set($defectsAsString = $defectsAsString + ', ')
									#end
								#end
							#end	
							
							&lt;tr&gt;
					        &lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;$i18n.getText('enav.exectionDefects.element.name'):&lt;/td&gt;
					        &lt;td&gt;$defectsAsString&lt;/td&gt;
					        &lt;/tr&gt;
							
							&lt;tr&gt;
					        &lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;$i18n.getText('plugin.license.storage.admin.license.attribute.creationdate.title'):&lt;/td&gt;
					        &lt;td&gt;$schedule.creationDate&lt;/td&gt;
					        &lt;/tr&gt;

                        &lt;tr&gt;
                        &lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;folderName:&lt;/td&gt;
                        &lt;td&gt;
						#if($schedule.folderName)
							$schedule.folderName
						#end
						&lt;/td&gt;
                        &lt;/tr&gt;

						#if ($schedule.customFieldsValueMap.size()>0)
                            &lt;tr&gt;
                            &lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;customFields:&lt;/td&gt;
                            #foreach ($entry in $schedule.customFieldsValueMap.entrySet())
                                &lt;td&gt;$entry.key : $entry.value |&lt;/td&gt;
                            #end
                            &lt;/tr&gt;
						#end
                        <tr/>
							<tr/>
	
							#if ($schedule.testStepBean) 
								&lt;table  bgcolor="#f0f0f0" class="tableBorder" cellpadding="0" cellspacing="0" border="0" width="100%">
											&lt;tr&gt;
					       					&lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;$i18n.getText('enav.xml.step.id.element.name')&lt;/td&gt;
					       					&lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;$i18n.getText('enav.xml.order.id.element.name')&lt;/td&gt;
					       					&lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;$i18n.getText('enav.xml.step.element.name')&lt;/td&gt;
					       					&lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;$i18n.getText('enav.xml.test.data.element.name')&lt;/td&gt;
					       					&lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;$i18n.getText('enav.xml.step.expected.result.element.name')&lt;/td&gt;
					       					&lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;$i18n.getText('enav.xml.step.result.element.name')&lt;/td&gt;
					       					&lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;$i18n.getText('enav.xml.step.comment.element.name')&lt;/td&gt;
                                            &lt;td bgcolor="#f0f0f0" width="20%" valign="top"&gt;Test Step Custom Fields&lt;/td&gt;
					        				&lt;/tr&gt;
									#foreach ($testStepBean in $schedule.testStepBean)
											&lt;tr&gt;
			                                &lt;td&gt;$testStepBean.id&lt;/td&gt;
											&lt;td&gt;$testStepBean.orderId&lt;/td&gt;
											&lt;td&gt;$testStepBean.step&lt;/td&gt;								
											&lt;td&gt;$testStepBean.htmlData&lt;/td&gt;
											&lt;td&gt;$testStepBean.htmlResult&lt;/td&gt;
											&lt;td&gt;$testStepBean.stepExecutionStatus&lt;/td&gt;
											&lt;td&gt;$testStepBean.htmlStepComment&lt;/td&gt;
                                            &lt;td&gt;
                                            #if ($testStepBean.customFieldValuesMap.size()>0)
                                                #foreach ($entry in $testStepBean.customFieldValuesMap.entrySet())
                                                    $entry.key : $entry.value |
                                                #end
                                            #end
                                            &lt;/td&gt;

                                        &lt;/tr&gt;
									#end
								&lt;/table&gt;
							#end	
						&lt;/table&gt;
			    	</description>
				</item>	
	    	#end
	    #end
	</channel>
</rss>